# multi world pool

multi world gcでは、各世界内ではメモリが足りなくなるとGCを行う必要があり、
そのために、使用しているデータは全て記録しなくてはなりませんでした。

これは面倒です。auto release poolをもう一度思い出してみると、
auto release poolは参照カウンタの上下をイチイチするのが面倒なので貯める事が出来る仕組みでした。

あれ？ちょっと待てよと思うわけです。Auto Release Poolは記録をすることがなかったのに、multi world gcではフレームリストに値を設定しなければなりませんでした。
これは面倒です。オートリリースプールのようなオブジェクトプールを作ってそこに溜め込んでおくようにすれば、
GC発生時も楽ではないでしょうか？そう、フレームリストにオブジェクトプールを追加する。

そして、フレームリスト解放時には、オブジェクトプールの参照が無くなる。
というようなモデルを考えてみましょう。
否、フレームリストではなく、プールリストにするのです。

というかんじ。どういう感じだ。