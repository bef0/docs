# FTDOP5

マクロの検索には時間がかかります。
そこで、マクロの検索を早めるため、マクロ用構文を用意し、高速化します。
具体的には、@というマクロ演算子を用いて、式をくくり、そこをマクロ展開します。

	@mac(('a ** 'b))a*b;
	@mac(mul('a,'b))a*b;
	(@(11111 ** 11111) + @mul(11111, 11111)) / 2

例えばこのプログラムは、マクロを2つ定義し、マクロを実行しています。
マクロが何処にあるかは一目瞭然です。

マクロの検索は、@の中味しか検索しないので、検索が高速です。
全ての構文要素に対して、マクロのマッチングを行っていたのに対して、@にのみマッチするようにしたので、よりマクロの展開が高速になりました。
unapplyも使っていないので、より理解もしやすいはずです。

