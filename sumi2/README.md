# セルフホスティング可能な言語

Cのような関数型言語を作ります。
基本的にimmutableでクロージャがあります。
目標は作った言語で、より楽にC言語のプログラムを出力するトランスレータを書く事です。

- read ファイル読込
- write ファイル書出
- system システム関数呼び出し
- parse 文字列から構文木を生成
- eval 構文木を実行
- if文
- 整数演算、比較、
- 文字列結合、サブ文字列
- パターンマッチ
- リストによるマップ
- リスト生成
- 構文木生成というか、a(1;2)は関数呼び出しではなく構文木をつくることである。
- 名前に関数がバインドされていれば、関数として呼び出される。
- 名前に関数がバインドされていない場合は、構文木を生成する。

サンプルプログラム

	block(

		def(eval(e);
			match(e)(
			arrow(Int(a); a);
			arrow(Add(a;b); add(eval(a);eval(b)));
			arrow(Sub(a;b); sub(eval(a);eval(b)));
			arrow(_; 0)
			)
		);

		println(eval(parse(read(argv(1)))))
	)

a(b;c)はa(b)(c)の意味である。つまりメッセージは全てカリー化されているのがデフォルトである。
リストは[a;b]のように書き、a::[b]、a::b::[]と同じ意味である。