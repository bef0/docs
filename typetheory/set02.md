## 集合論 型理論の基礎となる数学

プログラミング言語の型システムを学問として研究するには何かしらの道具が必要になります。
物理を学問として研究する道具が数学であるように、型システムの道具も数学になります。
数学とは言っても、多くのジャンルがありますよね。微分積分、確率統計、ベクトル解析、集合論と。
型システムを理解するのに何が適しているのでしょうか？

そう考えたときに出て来るのが集合論です。

実は筆者は大学でいちお集合論は勉強していました。
しかし、何が嬉しいのか分からず勉強していたので勉強中も嫌で嫌でしかたなく単位の為に勉強していました。
必要でないと思った筆者はすっかり忘れてしまいました。

さらに悪い事に、いろいろな論文を見ては、分け分からないと思い続け、
簡単だと馬鹿にされ、余計に傷つき、すっかり嫌いになってしまいました。
拗らせてしまった風邪ほど酷い物はないわけです。
¬Pって見ただけで、嫌気がさすほど嫌いになってしまった。∃ とか x ∈ N とか∀とかたまらなく嫌いです。
入力もし難いし。何だか分からない数学は嫌いだってなってしまってました。

ああ、先生が、集合論はプログラミング言語の型を理解するのに使われるので言語を作ってみたい人は
覚えておくといいよ。なんて言ってくれていればよかったのにと今になって思ったりするわけですが、
後の祭りです。時既に遅し。

とは言え、プログラミング言語を作る、あるいは型理論を理解するには集合論を覚えておくとずっと楽なはずです。
それに、用語や記号が多いようには思いますが、そんなにそんなに難しい学問ではないように思います。
集合論なんて、只の物の集まりを扱う数学に過ぎません。
私は遅延評価戦略で必要になったら覚える戦略を取ったに過ぎない！
やれば出来る子なんだ！そう思って、もう一度勉強し直す事にしたのです。
この文章はそんな、集合論が苦手な筆者が集合論を勉強し直した時の記録であります。

集合論は以下のサイトを参考に勉強します。

http://homepage3.nifty.com/rikei-index01/syugou-index.html

## 辞書登録

ああ、記号入力すんの面倒くさ！そう思いつつ放置する事数年たったある日、
記号を入力するスピードが速くなればそれだけ学習は楽しくなるはずだ！
そう思って、よく使う記号は辞書に登録しておくことにしました。

- あんど ∧ ∩
- おあ ∨ ∪
- のっと ¬
- ならば →
- そんざい ∃
- ふぉあおーる ∀
- ようそ ∈∋

この位をユーザー辞書に登録したらずっと入力が楽になりました。
ほんの数分、十数分で入力がずっと楽になります。登録しましょう。



## 命題

真偽が定まる主張を命題といいます。

例えば、次のP、Qは命題です。

P:2+3=5です。
Q:7は偶数です。

Pは真であり、Qは偽です。

次のようなP、Qは命題ではありません。

P:x+3=5
Q:xは偶数です。

なぜなら、これらの主張はxが定まっていなければ、真偽の判定ができないからです。
このような主張を述語といいます。
述語は、xについての関数と言えます。

## 真理値

ここからは、ブール代数を命題について使う為に定義していく。
まず、命題の真理値はTかFで表すという定義をする。

命題Pが真か偽かという情報を『命題Pの真理値』という。
真を意味する真理値をTと表す。
偽を意味する真理値をFと表す。

## ∧、∨、→、¬

ここでは、ブール演算に付いて定義する。
ただし、→がならばと読むという話はブール代数にはない定義だろう。

命題P、Qから新しい命題を作成する方法として、次のような物がある。

P ∧ Q、P ∨ Q、P → Q、¬ P

各記号は次のように読む。

P ∧ Q : PかつQ
P ∨ Q : PまたはQ
P → Q : PならばQ
¬ P : Pの否定

## 真偽表

	ブール代数だと真理値表といわれる物を真偽表という。
	文章でダラダラ書くより表に書いた方がスッキリする。

P∧Qに次の(1)〜(4)のような意味を付ける。

(1) PとQが真ならばP∧Qは真である。
(2) Pが真でQが偽ならばP∧Qは偽である。
(3) Pが偽でQが真ならばP∧Qは偽である。
(4) PとQが偽ならばP∧Qは偽である。

これらを表にまとめて次のように表す。

<table>
  <tr>
    <td>P</td>
    <td>Q</td>
    <td>P ∧ Q</td>
  </tr>
  <tr>
    <td>T</td>
    <td>T</td>
    <td>T</td>
  </tr>
  <tr>
    <td>T</td>
    <td>F</td>
    <td>F</td>
  </tr>
  <tr>
    <td>F</td>
    <td>T</td>
    <td>F</td>
  </tr>
  <tr>
    <td>F</td>
    <td>F</td>
    <td>F</td>
  </tr>
</table>

この表を『真偽表』という。

## 命題公理

（便宜的に命題公理と呼ぶ事にするが、公理的集合論を展開するわけではない）
各記号を次のように解釈する

<table><tr><td>

<table>
  <tr>
    <td>P</td>
    <td>Q</td>
    <td>P ∧ Q</td>
  </tr>
  <tr>
    <td>T</td>
    <td>T</td>
    <td>T</td>
  </tr>
  <tr>
    <td>T</td>
    <td>F</td>
    <td>F</td>
  </tr>
  <tr>
    <td>F</td>
    <td>T</td>
    <td>F</td>
  </tr>
  <tr>
    <td>F</td>
    <td>F</td>
    <td>F</td>
  </tr>
</table>

</td><td>

<table>
  <tr>
    <td>P</td>
    <td>Q</td>
    <td>P ∨ Q</td>
  </tr>
  <tr>
    <td>T</td>
    <td>T</td>
    <td>T</td>
  </tr>
  <tr>
    <td>T</td>
    <td>F</td>
    <td>T</td>
  </tr>
  <tr>
    <td>F</td>
    <td>T</td>
    <td>T</td>
  </tr>
  <tr>
    <td>F</td>
    <td>F</td>
    <td>F</td>
  </tr>
</table>

</td><td>

<table>
  <tr>
    <td>P</td>
    <td>Q</td>
    <td>P → Q</td>
  </tr>
  <tr>
    <td>T</td>
    <td>T</td>
    <td>T</td>
  </tr>
  <tr>
    <td>T</td>
    <td>F</td>
    <td>F</td>
  </tr>
  <tr>
    <td>F</td>
    <td>T</td>
    <td>T</td>
  </tr>
  <tr>
    <td>F</td>
    <td>F</td>
    <td>T</td>
  </tr>
</table>

</td><td>

<table>
  <tr>
    <td>P</td>
    <td>¬ P</td>
  </tr>
  <tr>
    <td>T</td>
    <td>F</td>
  </tr>
  <tr>
    <td>F</td>
    <td>T</td>
  </tr>
</table>

</td></tr></table>

	ここで気になるのはP→Qだろう。例えば
	Xが1->Yは3

	このとき、

	Xが1ならばYは3は嘘ではないからT
	Xが1ならばYは3でないは嘘だからF

	そして、Xが1でない場合はYの値は決まらないので

	Xが1でないならばYは3は嘘ではないのでT
	Xが1でないならばYは3ではないも嘘ではないのでT

	となる。このPの条件が間違えていれば、Qが命題ならTになるというところが納得できればよい。

	→はちょっと普通の意味とはちがう所が注意する必要がある。

## 恒真命題(トートロジ)

	議論しているときに、
	トートロジとか言い出されるとムカつくんですけど、
	それは、トートロジを知らない人にとって
	相手はトートロジという知識を知っていて優位にある
	自分はトートロジを知らずに不利である。
	相手は論理の正しい正しくないに関わらずその優位である立場を利用して
	ねじ伏せようとしているように感じるからだろう。

	しかしトートロジとは、単に必ず真になる命題である。
	猿ならば猿、人ならば人、はトートロジである。
	猿または猿でないも真である。

	P∨(¬P)、「P→P」、「(P∧(P→Q))→Q」はトートロジである。

命題 P1, ..., Pnに対して、∧、∨、→、¬を用いて命題f(P1,...,Pn)を作成する。
各命題P1,...,Pnの真偽に関わらず、f(P1,...,Pn)が真であるとする。
このとき、f(P1,...,Pn)を『恒真命題(トートロジ)』という
